# ü§ñ Telegram Bot –¥–ª—è –•–∞—á–∞–ø—É—Ä–∏ –ú–∞—Ä–∏–∫–æ

Telegram –±–æ—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Mini App —Å–µ—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ "–•–∞—á–∞–ø—É—Ä–∏ –ú–∞—Ä–∏–∫–æ".

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞: `–•–∞—á–∞–ø—É—Ä–∏ –ú–∞—Ä–∏–∫–æ`  
4. –í–≤–µ–¥–∏—Ç–µ username: `khachapuri_mariko_bot` (–∏–ª–∏ –ª—é–±–æ–π –¥–æ—Å—Ç—É–ø–Ω—ã–π)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd bot
npm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
cp env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`:
```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_botfather
WEBAPP_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com
PORT=3000
NODE_ENV=development
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

#### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (polling):
```bash
npm run dev
```

#### Production (webhook):
```bash
npm run build
npm start
```

## üìã –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∑–∞–ø—É—Å–∫ Mini App |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é |
| `/restaurants` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö |
| `/contact` | –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è |

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mini App

### –í BotFather:

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/setmenubutton` –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
2. –í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ Mini App
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/setdescription` –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –±–æ—Ç–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞:

1. –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –¥–æ–º–µ–Ω–µ —Å HTTPS
2. –û–±–Ω–æ–≤–∏—Ç–µ `WEBAPP_URL` –≤ `.env`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

## üåê –î–µ–ø–ª–æ–π

### Heroku:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Heroku CLI
git init
heroku create khachapuri-mariko-bot
heroku config:set BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
heroku config:set WEBAPP_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com
heroku config:set WEBHOOK_URL=https://–≤–∞—à-–±–æ—Ç.herokuapp.com/webhook
git add .
git commit -m "Deploy bot"
git push heroku main
```

### VPS:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
git clone –≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
cd bot
npm install
npm run build

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å PM2 –∏–ª–∏ –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å-–º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
pm2 start dist/bot.js --name khachapuri-bot
```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Mini App

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –≤–∞—à–∏–º Mini App —á–µ—Ä–µ–∑:

- ‚úÖ **Web App –∫–Ω–æ–ø–∫–∏** - –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ —á–∞—Ç–∞
- ‚úÖ **URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ **Deep linking** - –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ä–∞–∑–¥–µ–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ –±–æ—Ç–∞

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Telegram Web App API:

```typescript
// –í –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —É–∂–µ –µ—Å—Ç—å:
const telegramWebApp = window.Telegram?.WebApp;
const user = telegramWebApp?.initDataUnsafe?.user;
```

## üìä –§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

- **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** —Å –∑–∞–ø—É—Å–∫–æ–º Mini App
- **–°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º** —Å deep linking
- **–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–∞–π—Ç
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∏ fallback –æ—Ç–≤–µ—Ç—ã
- **Webhook –∏ polling** —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### üîÆ –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- **Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∞–∫—Ü–∏—è—Ö** –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é  
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM** –¥–ª—è –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤
- **–ß–∞—Ç-–±–æ—Ç —Å –ò–ò** –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- **Grammy** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Telegram Bot framework
- **Express** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è webhook
- **TypeScript** - —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **Dotenv** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:
- **Polling** - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ø—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫)
- **Webhook** - –¥–ª—è production (–ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤** Telegram
- **HTTPS** –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è webhook
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ –±–æ—Ç–∞:
```bash
npm run dev  # –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook:
```bash
curl https://–≤–∞—à-–¥–æ–º–µ–Ω.com/health
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: {"status":"OK","timestamp":"..."}
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥:
1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ Web App
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É - –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å WEBAPP_URL
4. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ HTTPS –¥–ª—è webhook

---

**–°–æ–∑–¥–∞–Ω–æ –¥–ª—è —Å–µ—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ "–•–∞—á–∞–ø—É—Ä–∏ –ú–∞—Ä–∏–∫–æ"** üá¨üá™ 